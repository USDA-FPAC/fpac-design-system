import{_ as F,d as L,o as n,c as l,e as s,t as i,r as P,a as N,w as H,f as E,g as R,h as T,i as V,j as O,k as I,F as S,l as y,n as G,m as k,p as w,v as x,u as K}from"./index.180c715c.js";import{u as D}from"./useNavigation.cc0e6dcc.js";const $={props:{AG_ABBR:String,AG_FULL:String,AG_URL:String,AG_LOGO:String,SUB_AG_ABBR:String,SUB_AG_FULL:String,SUB_AG_URL:String},setup(c){const _=L(()=>"Link to "+c.AG_ABBR+" homepage"),o=L(()=>"Link to "+c.SUB_AG_ABBR+" homepage");return{agTitleValue:_,subAgTitleValue:o}}},X={class:"fds-tophat"},j={class:"fds-tophat__bd"},z={class:"fds-tophat__primary"},q={class:"fds-tophat__agency"},J=["href","title"],Q=["src"],W={class:"fds-tophat__agency-abbr",title:""},Y={class:"fds-tophat__agency-fullname"},Z={class:"fds-tophat__secondary"},ee={class:"fds-tophat__subagency"},se=["href","title"];function ae(c,_,o,a,f,b){return n(),l("div",X,[s("div",j,[s("div",z,[s("span",q,[s("a",{href:o.AG_URL,class:"fds-tophat__link",title:a.agTitleValue},[s("img",{role:"presentation",class:"fds-tophat__agency-logo",src:o.AG_LOGO,alt:""},null,8,Q),s("abbr",W,i(o.AG_ABBR),1),s("span",Y,i(o.AG_FULL),1)],8,J)])]),s("div",Z,[s("span",ee,[s("a",{href:o.SUB_AG_URL,class:"fds-tophat__link",title:a.subAgTitleValue},i(o.SUB_AG_FULL),9,se)])])])])}const te=F($,[["render",ae]]),ne={props:{APP_ABBR_NAME:String,APP_FULL_NAME:String,PROFILE_NAME:String,LOGOFF_URL:String},setup(c){return{appTitleValue:L(()=>c.APP_ABBR_NAME+" Prototype Kit")}}},le={class:"fds-header-app"},oe={class:"fds-header-app__bd"},de={class:"fds-header-app__primary"},_e={class:"fds-header-app__app-name"},ie=["title"],ce={class:"fds-header-app__app-full"},re={class:"fds-header-app__secondary"},ue={class:"fds-header-app__profile"},he=["href"],fe={class:"fds-header-app__profile-name"};function be(c,_,o,a,f,b){const e=P("router-link");return n(),l("div",le,[s("div",oe,[s("div",de,[N(e,{to:"home",class:"fds-header-app__home-link"},{default:H(()=>[s("span",_e,[o.APP_ABBR_NAME?(n(),l("abbr",{key:0,class:"fds-header-app__app-abbr",title:a.appTitleValue},i(o.APP_ABBR_NAME),9,ie)):E("",!0),s("span",ce,i(o.APP_FULL_NAME),1)])]),_:1})]),s("div",re,[s("span",ue,[s("a",{href:o.LOGOFF_URL,class:"fds-header-app__profile-link"},[s("span",fe,i(o.PROFILE_NAME),1)],8,he)])])])])}const ve=F(ne,[["render",be]]);function ge(){let c=R(!1),_=T({}),o=T({});const a=d=>{c=d},f=(d,v)=>{_=d,o=v;let g=d.getAttribute("aria-controls");d.setAttribute("aria-expanded","true"),document.getElementById(g).setAttribute("aria-hidden","false"),a(!0)},b=(d,v=!1)=>{let g=d.getAttribute("aria-controls");g&&(d.setAttribute("aria-expanded","false"),document.getElementById(g).setAttribute("aria-hidden","true"),a(!1))},e=d=>{d.addEventListener("focus",r)},t=d=>{d.removeEventListener("focus",r)},r=d=>{d.currentTarget},C=d=>{if(c&&_)try{let v=_.contains(d.target),g=o.contains(d.target);!v&&!g&&(m("closeAllMenus"),a(!1))}catch{}},U=d=>{c&&d.keyCode==27&&(m("closeAllMenus"),a(!1))},m=(d,v=null)=>{let g=document.getElementsByClassName("fds-nav-global__link--has-sub-menu");for(let B=0;B<g.length;B++){let h=g[B];h.cb=m,M(d,h)}},M=(d,v)=>{d=="addFocusListeners"?e(v):d=="removeFocusListeners"?t(v):d=="closeAllMenus"&&b(v,!0)};return{isMenuOpen:c,theItem:_,theMenu:o,openMenu:f,closeMenu:b,loopItems:m,listenForKeys:U,documentClickHandler:C}}const pe={props:{NAV_DATA:Object,EXTRA_CLASSES:String,USE_SEARCH:String,USE_SCOPED_SEARCH:String},setup(c,{emit:_}){const{openMenu:o,closeMenu:a,loopItems:f,listenForKeys:b,documentClickHandler:e}=ge(),{goto:t}=D();let r="/fpac-design-system/".substring(0,20-1);const C=R(r),U=R({}),m=L(()=>c.NAV_DATA),M=h=>{let u=h.main,p=h.side?h.side:[];return u.forEach(A=>{A.uid&&(A.uid=x())}),p.forEach(A=>{A.uid&&(A.uid=x())}),{main:u,side:p}};function d(h){let u=document.getElementById(h),p=u.nextSibling,A=u.getAttribute("aria-expanded");f("closeAllMenus"),A=="true"?a(u,p):o(u,p)}const v=h=>{let u=document.getElementById("searchPhrase"),p=u.value;u.value="",_("emitSearch",{type:"default",phrase:p})},g=h=>{let u=document.getElementById("searchPhrase"),p=u.value;u.value="";let A=document.getElementById("scopedCategory").selected;_("emitSearch",{type:"scoped",scope:A,phrase:p})},B=(h,u)=>{d(h),t(u)};return V(m,h=>{U.value=M(h)}),O(()=>{window.addEventListener("keydown",b),document.addEventListener("click",e),f("addFocusListeners")}),I(()=>{window.removeEventListener("keydown",b),document.removeEventListener("click",e),f("removeFocusListeners")}),{navData:U,navigateTo:B,goto:t,basePath:C,openMenu:o,closeMenu:a,loopItems:f,listenForKeys:b,toggleMenu:d,doSearch:v,doScopedSearch:g}}},Ae={class:"fds-nav-global"},Se={class:"fds-nav-global__bd"},ye={class:"fds-nav-global__list","aria-label":"Primary Navigation",id:"primary-navigation"},me=["data-control-id"],ke={key:0},Ce=["id","onClick","aria-controls"],Be=["id"],Ee=["id"],Le=["aria-labelledby"],Ue=["id"],Pe=["aria-labelledby"],Ne=["href","onClick"],Re={key:1},Fe=["id","onClick","aria-controls"],Me=["id"],Te=["id"],Ge={class:"fds-nav-global__sub-menu-bd"},we=["aria-labelledby"],xe=["href","onClick"],Oe={key:2},De=["id","onClick","aria-controls"],He=["id"],Ve=["id"],Ie=["aria-labelledby"],Ke=["id"],$e=["aria-labelledby"],Xe=["href","onClick"],je={key:3},ze=["id","onClick","aria-controls"],qe=["id"],Je=["id"],Qe={class:"fds-nav-global__sub-menu-bd"},We=["aria-labelledby"],Ye=["href","onClick"],Ze={key:4},es=["href","onClick"],ss={class:"fds-nav-global__text"},as={key:0,class:"fds-nav-global__aside"},ts={class:"fds-level"},ns=["href","onClick"],ls={class:"fds-level fds-level--inline fds-level--gutter-xs"},os=["d"],ds={key:1,class:"fds-nav-global__search"},_s={class:"fds-search fds-search--small",role:"search"},is={class:"fds-search__bd"},cs={class:"fds-search__entry fds-search__entry--grow"},rs=s("label",{class:"fds-search__label fds-search__label--sr-only",for:"searchPhrase"},"Search [app-name]",-1),us={class:"fds-search__submit"},hs=s("span",{class:"fds-search__text"},"Search",-1),fs=[hs],bs={key:2,class:"fds-nav-global__search"},vs={class:"fds-search fds-search--small",role:"search"},gs={class:"fds-search__bd"},ps={class:"fds-search__entry fds-search__entry--grow"},As=s("label",{class:"fds-search__label fds-search__label--sr-only",for:"scopedSearchPhrase"},"Search [app-name]",-1),Ss={class:"fds-search__entry"},ys=s("label",{class:"fds-search__label fds-search__label--sr-only",for:"scopedCategory"},"Search Category",-1),ms={class:"fds-select fds-select--small fds-search__select",name:"scopedCategory",id:"scopedCategory"},ks=["value","selected"],Cs={class:"fds-search__submit"},Bs=s("span",{class:"fds-search__text"},"Search",-1),Es=[Bs];function Ls(c,_,o,a,f,b){return n(),l("nav",null,[s("div",Ae,[s("div",Se,[s("ul",ye,[(n(!0),l(S,null,y(a.navData.main,e=>(n(),l("li",{key:e.uid,"data-control-id":e.uid,class:G("fds-nav-global__list-item "+e.columnClass)},[e.hasChild=="true"&&e.multiColumn=="true"&&e.hasHeaders=="true"?(n(),l("div",ke,[s("button",{id:e.uid+"-BTN",onClick:t=>a.toggleMenu(e.uid+"-BTN"),class:"fds-nav-global__link fds-nav-global__link--has-sub-menu",type:"button","aria-expanded":"false","aria-controls":e.uid},[s("span",{class:"fds-nav-global__text",id:e.uid+"-SUB"},i(e.label),9,Be)],8,Ce),s("div",{class:"fds-nav-global__sub-menu",id:e.uid,"aria-hidden":"true"},[s("div",{class:"fds-nav-global__sub-menu-bd","aria-labelledby":e.uid+"-SUB"},[(n(!0),l(S,null,y(e.children,t=>(n(),l("div",{key:t.uid,class:"fds-nav-global__sub-menu-group"},[s("h3",{class:"fds-nav-global__sub-menu-title",id:t.uid},i(t.header),9,Ue),s("ul",{class:"fds-nav-global__sub-menu-list","aria-labelledby":t.uid},[(n(!0),l(S,null,y(t.group,r=>(n(),l("li",{key:r.uid,class:"fds-nav-global__sub-menu-item"},[s("a",{href:a.basePath+r.path,onClick:k(C=>a.navigateTo(e.uid+"-BTN",r.path),["prevent"]),class:"fds-nav-global__sub-menu-link"},i(r.label),9,Ne)]))),128))],8,Pe)]))),128))],8,Le)],8,Ee)])):e.hasChild=="true"&&e.multiColumn=="true"&&e.hasHeaders=="false"?(n(),l("div",Re,[s("button",{id:e.uid+"-BTN",onClick:t=>a.toggleMenu(e.uid+"-BTN"),class:"fds-nav-global__link fds-nav-global__link--has-sub-menu",type:"button","aria-expanded":"false","aria-controls":e.uid},[s("span",{class:"fds-nav-global__text",id:e.uid+"-SUB"},i(e.label),9,Me)],8,Fe),s("div",{class:"fds-nav-global__sub-menu",id:e.uid,"aria-hidden":"true"},[s("div",Ge,[s("ul",{class:"fds-nav-global__sub-menu-list","aria-labelledby":e.uid+"-SUB"},[(n(!0),l(S,null,y(e.children,t=>(n(),l("li",{key:t.uid,class:"fds-nav-global__sub-menu-item"},[s("a",{href:a.basePath+t.path,onClick:k(r=>a.navigateTo(e.uid+"-BTN",t.path),["prevent"]),class:"fds-nav-global__sub-menu-link"},i(t.label),9,xe)]))),128))],8,we)])],8,Te)])):e.hasChild=="true"&&e.multiColumn=="false"&&e.hasHeaders=="true"?(n(),l("div",Oe,[s("button",{id:e.uid+"-BTN",onClick:t=>a.toggleMenu(e.uid+"-BTN"),class:"fds-nav-global__link fds-nav-global__link--has-sub-menu",type:"button","aria-expanded":"false","aria-controls":e.uid},[s("span",{class:"fds-nav-global__text",id:e.uid+"-SUB"},i(e.label),9,He)],8,De),s("div",{class:"fds-nav-global__sub-menu",id:e.uid,"aria-hidden":"true"},[(n(!0),l(S,null,y(e.children,t=>(n(),l("div",{key:t.uid,class:"fds-nav-global__sub-menu-bd","aria-labelledby":e.uid+"-SUB"},[s("h3",{class:"fds-nav-global__sub-menu-title",id:t.uid},i(t.header),9,Ke),s("ul",{class:"fds-nav-global__sub-menu-list","aria-labelledby":t.uid},[(n(!0),l(S,null,y(t.group,r=>(n(),l("li",{key:r.uid,class:"fds-nav-global__sub-menu-item"},[s("a",{href:a.basePath+r.path,onClick:k(C=>a.navigateTo(e.uid+"-BTN",r.path),["prevent"]),class:"fds-nav-global__sub-menu-link"},i(r.label),9,Xe)]))),128))],8,$e)],8,Ie))),128))],8,Ve)])):e.hasChild=="true"&&e.multiColumn=="false"&&e.hasHeaders=="false"?(n(),l("div",je,[s("button",{id:e.uid+"-BTN",onClick:t=>a.toggleMenu(e.uid+"-BTN"),class:"fds-nav-global__link fds-nav-global__link--has-sub-menu",type:"button","aria-expanded":"false","aria-controls":e.uid},[s("span",{class:"fds-nav-global__text",id:e.uid+"-SUB"},i(e.label),9,qe)],8,ze),s("div",{class:"fds-nav-global__sub-menu",id:e.uid,"aria-hidden":"true"},[s("div",Qe,[s("ul",{class:"fds-nav-global__sub-menu-list","aria-labelledby":e.uid+"-SUB"},[(n(!0),l(S,null,y(e.children,t=>(n(),l("li",{key:t.id,class:"fds-nav-global__sub-menu-item"},[s("a",{href:a.basePath+t.path,onClick:k(r=>a.navigateTo(e.uid+"-BTN",t.path),["prevent"]),class:"fds-nav-global__sub-menu-link"},i(t.label),9,Ye)]))),128))],8,We)])],8,Je)])):(n(),l("div",Ze,[s("a",{href:a.basePath+e.path,onClick:k(t=>a.goto(e.path),["prevent"]),class:"fds-nav-global__link"},[s("span",ss,i(e.label),1)],8,es)]))],10,me))),128))]),a.navData.side?(n(),l("div",as,[s("div",ts,[(n(!0),l(S,null,y(a.navData.side,e=>(n(),l("span",{key:e.uid},[s("a",{href:a.basePath+e.path,onClick:k(t=>a.goto(e.path),["prevent"])},[s("span",ls,[e.icon?(n(),l("svg",{key:0,class:G(e.icon.class),"aria-hidden":"true",focusable:"false",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[s("path",{d:e.icon.path},null,8,os)],2)):E("",!0),s("span",null,i(e.label),1)])],8,ns)]))),128))])])):E("",!0),o.USE_SEARCH=="true"?(n(),l("div",ds,[s("div",_s,[s("div",is,[s("div",cs,[rs,s("input",{onKeyup:_[0]||(_[0]=w((...e)=>a.doSearch&&a.doSearch(...e),["enter"])),placeholder:"Search",class:"fds-input fds-input--small fds-search__input",id:"searchPhrase",type:"search",name:"searchPhrase"},null,32)]),s("div",us,[s("button",{onClick:_[1]||(_[1]=(...e)=>a.doSearch&&a.doSearch(...e)),class:"fds-btn fds-btn--small fds-search__btn fds-search__btn--icon"},fs)])])])])):E("",!0),o.USE_SCOPED_SEARCH=="true"?(n(),l("div",bs,[s("div",vs,[s("div",gs,[s("div",ps,[As,s("input",{onKeyup:_[2]||(_[2]=w((...e)=>a.doScopedSearch&&a.doScopedSearch(...e),["enter"])),placeholder:"Search",class:"fds-input fds-input--small fds-search__input",id:"scopedSearchPhrase",type:"search",name:"scopedSearchPhrase"},null,32)]),s("div",Ss,[ys,s("select",ms,[(n(!0),l(S,null,y(c.SCOPED_SEARCH_CATEGORIES,e=>(n(),l("option",{key:e.label,value:e.val,selected:e.selected},i(e.label),9,ks))),128))])]),s("div",Cs,[s("button",{onClick:_[3]||(_[3]=(...e)=>a.doScopedSearch&&a.doScopedSearch(...e)),class:"fds-btn fds-btn--small fds-search__btn fds-search__btn--icon"},Es)])])])])):E("",!0)])])])}const Us=F(pe,[["render",Ls]]),Ps={components:{tophat:te,headerApp:ve,globalNav:Us},props:{USE_SEARCH:String},setup(c,{emit:_}){const o=R("/fpac-design-system/"),a=K(),{goto:f}=D(),b=L(()=>a.getters["navigation/getNavigation"]),e=t=>{_("emitSearch",t),f("/search/"+t.phrase)};return O(()=>{console.log("USE_SEARCH",c.USE_SEARCH),a.dispatch("navigation/setNavigation")}),{baseUrl:o,navigationData:b,submitSearch:e}}};function Ns(c,_,o,a,f,b){const e=P("tophat"),t=P("headerApp"),r=P("globalNav");return n(),l("header",null,[N(e,{AG_ABBR:"USDA",AG_FULL:"United States Department of Agriculture",AG_URL:"//www.usda.gov",AG_LOGO:a.baseUrl+"img/usda-logo--white.svg",SUB_AG_ABBR:"FPAC",SUB_AG_FULL:"Farm Production and Conservation",SUB_AG_URL:"//fsa.usda.gov"},null,8,["AG_LOGO"]),N(t,{APP_ABBR_NAME:"FDS",APP_FULL_NAME:"FPAC Design System",PROFILE_NAME:"",LOGOFF_URL:"https://www.eauth.usda.gov/Logout/logoff.asp"}),N(r,{NAV_DATA:a.navigationData,EXTRA_CLASSES:"fds-nav-global__list-item--multi-column",onEmitSearch:a.submitSearch,USE_SEARCH:o.USE_SEARCH},null,8,["NAV_DATA","onEmitSearch","USE_SEARCH"])])}const Ms=F(Ps,[["render",Ns]]);export{Ms as default};
